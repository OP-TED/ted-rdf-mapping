[#_conceptual-mapping-structure]

== Conceptual mapping structure

In this section we describe the structure of the mapping file that we aim to create as the result of the described mapping process. The mapping file is an Excel workbook containing multiple worksheets. This workbook is generated from a Google Sheets document, where it can be prepared, revised, and refined by multiple contributors in a collaborative fashion. The template for this spreadsheet is provided https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0[here]. This template informs software developers and knowledge engineers alike about what should be the content of such a mapping file.

It consists of several important worksheets:

* Metadata sheet: provides important technical and descriptive information about the mapping suite
* Resources sheet: provides the list of resources used in the technical mappings. This list is used to automatically populate the mapping suite with indicated resources files.
* RML Modules sheet: provides the list of RML modules used for mapping suite package at hand.
* Rules sheet: provides the actual set of mapping rules
* Misc: there are additional optional worksheets added by the semantic engineers to manage additional information.

https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0[Metadata sheet]

|===
|*Cell refs.*|*Header for content*|*Description*|*Notes*

|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B3[B3]|Identifier|Standard Form number (one of _F03_-_F08_, _F12_-_F25_, _T1_ or _T2_). For multiple forms a comma separated list can be used.|See list of standard forms https://simap.ted.europa.eu/standard-forms-for-public-procurement[here]
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B4[B4]|Title|A title given to the conceptual mapping|Example: any string
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B5[B5]|Description|A description for the conceptual mapping|Example: any string
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B6[B6]|Mapping Version|A version number for the conceptual mapping|See details about versioning xref:versioning.adoc[here]
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B7[B7]|ePO Version|A number which indicates the version of ePO|Example: 3.0.0/ 3.0.1
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B8[B8]|Base XPath|The XPath which is used as basis in all iterators of Triples Map|Example: TED_EXPORT/FORM_SECTION/F03_2014/, TED_EXPORT/FORM_SECTION/F06_2014/, /*
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B11[B11]|eForms Subtype|Comma separated list, can be one or a few; a value that helps semantic engineers understand what type of
https://docs.google.com/spreadsheets/d/1Nt1r-GVRxsZecDPWHa_xdNH8sfbv5Gr_/edit#gid=769953505[eForm] they are dealing with|Example: 4,12,13
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B12[B12]|Start Date|The start date of the conceptual mapping|Example: one value in format (yyyy-mm-dd), or empty cell
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B13[B13]|Start Date|The end date of the conceptual mapping|Example: one value in format (yyyy-mm-dd), or empty cell
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B14[B14]|Min XSD Version|The min acceptable XSD Version|Example: R2.0.9.S04.E01
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=0&range=B15[B15]|Max XSD Version|The max acceptable XSD Version|Example: R2.0.9.S04.E01
|===

https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=222960787[Resources sheet]

|===
|*Cell refs.*|*Header for content*|*Description*|*Notes*

|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=222960787&range=A2:A[A2:A]|File name|The name of resource files that are used by the mappings and need to be present in the +resources +folder.|
|===

https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=1726830262[RML_Modules sheet]

|===
|*Cell refs.*|*Header for content*|*Description*|*Notes*

|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=1726830262&range=A2:A[A2:A]|File name|The name of the RML mapping files included in the conceptual mapping|
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=1726830262&range=B2:A[B2:A]|Comment (Optional)|Comments for the RML mapping files included in the conceptual mapping|
|===

https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674[Rules sheet]

|===
|*Cell refs.*|*Header for content*|*Description*|*Notes*
|*A:D*|*Conceptual mapping*||
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=A3:A[A3:A]|Standard Form Field ID (M)|The “identifier” of the field in the Standard Form PDF file. Usually the field number, such as _IV.1.1.1.2_, or the section name, e.g. “_Section IV_”|Mandatory
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=B3:B[B3:B]|Standard Form Field Name (M)|The name of the field in the Standard Form PDF|Mandatory
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=C3:C[C3:C]|eForm BT-ID (O)|The ID of the corresponding business term (BT) or business term group (BG) in eForms. The values are coming from the column B of this spreadsheet (or one of its equivalents): |Optional
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=D3:D[D3:D]|eForm BT Name (O)|The name of the corresponding business term (BT) or business term group (BG) in eForms. The values are coming from the column C of this spreadsheet (or one of its equivalents): |Optional
|*E:F*|*Standard form technical mapping*||
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=E3:E[E3:E]|Base XPath (for anchoring) (M)|The “base” XPath that identifies an XML element and all of its sub-elements. It can be specified at the level of a section, or subsection, so that writing XPaths for form elements within that (sub)section will not have to repeat over and over again the “base” XPath.|Mandatory
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=F3:F[F3:F]|Field XPath (M)|The XPath that identifies the form element, which is relative to the “base” XPath that was specified for the closest  element above this one.|Mandatory
|*G:J*|*ePO mapping*||
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=G3:G[G3:G]|Class path (M)|Specifies the types of the resources involved in the entire “path” from the subject to the object, which “connects” the concept that represents this XML element (the object), to an RDF resource already created from previous XML elements (the subject). So, if the representation of an XML element involves the creation of the following triples:
_s p1 o1.   o1 p2 o2.   o2 p3 o._|Mandatory
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=H3:H[H3:H]|Property path (M)|Specifies the properties involved in the entire “path” from the subject to the object, which “connects” the concept that represents this XML element (the object), to an RDF resource already created from previous XML elements (the subject). So, if the representation of an XML element involves the creation of the following triples:
_s p1 o1.   o1 p2 o2.   o2 p3 o._|Mandatory
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=I3:I[I3:I]|Triple fingerprint (O)|[TODO]|Optional
|https://docs.google.com/spreadsheets/d/1iSk02YD7lfPByKnBDU4Z2XiBjY6zCqMP79uyydiQxxU/edit#gid=435265674&range=J3:J[J3:J]|Fragment fingerprint (O)|[TODO]|Optional
|===

